"use strict";const vuestore=new Vuex.Store({modules:{base:vueBaseStore,cart:vuestoreCart,cabs:vuestoreCabs}});var VueCart=Vue.extend({delimiters:vueDelimiters,props:["settingSaleAjax","settingFashionpromo","settingFashionpromoValue","flatrateVariantids","flatrateProdids","flatratePrice","flatrateCompprice"],data:function(){return{cartItems:[],loadcartItems:[],disableBtn:!1,isBusy:!1,cartType:null,giftscale:{settings:[],products:{}},cartData:{currencyCode:this.$store.getters["base/currencyCode"],priceSeparatorUs:this.$store.getters["base/priceSeparatorUs"],total_price:0,regularprice:0,subtotal:0,yousafe:0,discount:"",discountLoading:!1,removedDiscount:null,currentDiscount:null,discountData:null,discountValue:0,discountPerc:0,discountType:null,SuccessMessageCheck:!1,SuccessMessage:null,dangerMessageCheck:!1,dangerMessage:"",cartCount:0,cartWeight:0,cartShippingRate:0,freeProductCount:0,removedItem:[],removedItemId:null,removedItemTitle:null,removedItemSuccess:!1,removedItemQuantity:null,removedItemPrice:null,cartWishlistIds:[],cartWishlist:{},cartRewards:{},cartRewardsSelected:{selected:null,items:[],radioIndex:null,prevItem:null,disableReward:!1,forceRemove:!1}},cartError:null,adCookie:!1,weekendDelay:!1,offerShop:!1,noteTracking:null,shippingFlatrate:{currentVersion:!1,version:[]},maxCartItemQuantity:50,productVarId:"",fashionPromo:{promoProducts:{leggings:[],tops:[]},leggingSelected:{selected:-1,selectedSize:-1},topSelected:{selected:-1,selectedSize:-1}},tracking:{changedItem:[]}}},mounted:function(){this.cartItems=[],this.loadCart().finally(function(){setTimeout(function(){$(".se-pre-con").fadeOut(225)},200)})},methods:{ASFreeGift:function(threshold,variant,product,message){return{over:threshold,variant_id:variant,product_id:product,category:null,message}},ASFreeNutritionGift:function(threshold,variant,product,message){var gift=this.ASFreeGift(threshold,variant,product,message);return gift.category="nutrition",gift},ASFreeSportswearGift:function(threshold,variant,product,message){var gift=this.ASFreeGift(threshold,variant,product,message);return gift.category="sportswear",gift},getGiftInfo:function(){var giftHandles=["creatine-powder"],productInfo=[];giftHandles.forEach(function(handle,index){axios({url:"/products/"+handle+".json",method:"get"}).then(function(response){productInfo.push(response.data.product)}).catch(function(error){console.log(error)})}),vueapp.giftscale.products=productInfo},setupFreeGifts:function(){var currentShop=this.$store.state.base.currentShop,threshold1=9500},compareformat:function(value,index,qty){return this.moneyformat(value.replace(".","")*qty)},compareformatfree:function(value,index,qty){var comparePrice=(value/100*qty).toFixed(2).toString().replace(".",",");return this.$store.getters["base/currencySymbol"]+" "+comparePrice},moneyformatTracking:function(value){return(value/100).toFixed(2).toString()},validateRewardProduct:function(item){if(item.properties!=null&&item.properties.reward&&item.properties.reward===!0){var rewardItem=item,rewardIndex=0;return this.cartData.cartRewards.rewards&&(this.cartData.cartRewards.rewards.forEach(function(item2,index){rewardItem.product_id==item2.id&&(rewardIndex=index)}),this.cartData.cartRewardsSelected.forceRemove!==!0&&this.cartData.cartRewardsSelected.radioIndex==null&&(this.cartData.cartRewardsSelected.radioIndex=rewardIndex,this.cartData.cartRewardsSelected.prevItem=rewardItem.id)),!0}else return!1},setupFlatrateShipping:function(){function getRandomInt(max){return Math.floor(Math.random()*max)}if(Number.isInteger(this.shippingFlatrate.version[0].variantId))if(Cookies.get("flatrateversion")!=null)this.shippingFlatrate.currentVersion=Cookies.get("flatrateversion");else{var newCurrentVersion=getRandomInt(3);Cookies.set("flatrateversion",newCurrentVersion,{expires:7,path:"/",domain:".womensbest.com"}),this.shippingFlatrate.currentVersion=newCurrentVersion,window.oaTracking("flatrateoffer",{flatrateVersion:this.shippingFlatrate.currentVersion})}},flatrateClick:function(){$(".cart_shipping-flatline-content-intro").toggleClass("open"),$(".cart_shipping-flatline-content-info").slideToggle(200,function(){})},weekendDelayCalc:function(){var d=new Date,localTime=d.getTime(),localOffset=d.getTimezoneOffset()*6e4,utc=localTime+localOffset,utcDate=new Date(utc);(utcDate.getDay()==6||utcDate.getDay()==0||utcDate.getDay()==5&&utcDate.getHours()>15)&&(this.weekendDelay=!0)},meCartSubmit:function(e){e.preventDefault(),window.location.pathname="/en/checkout"},fashionSetImgAdjustment:function(){this.cartItems.forEach(function(item,index){if(item.product_type==="Sportswear/Set/"&&!(item.properties==null||item.properties.bundleproducts==null)){var propertieIndex=0;item.properties.bundleproducts[Object.keys(item.properties.bundleproducts)[propertieIndex]].indexOf("Socks")!=-1&&(propertieIndex=1);var propertieItem=item.properties.bundleproducts[Object.keys(item.properties.bundleproducts)[propertieIndex]],color=propertieItem.split(",")[0].split("|")[1].replaceAll(" ",""),image=item.product_data.images.filter(function(img){return img.src.indexOf(color)!==-1});image[0]!=null&&(item.image=image[0].src)}})},setUpDragSlide:function(){let mouseDown=!1,startX,scrollLeft;const sliders=document.querySelectorAll(".oa-cart--scrollbar");sliders.length!=0&&sliders.forEach(function(slider){if(slider.classList.contains("slide--applied"))return;const startDragging=e=>{mouseDown=!0,startX=e.pageX-slider.offsetLeft,scrollLeft=slider.scrollLeft},stopDragging=e=>{mouseDown=!1},move=e=>{if(e.preventDefault(),!mouseDown)return;const scroll=e.pageX-slider.offsetLeft-startX;slider.scrollLeft=scrollLeft-scroll};slider.addEventListener("mousemove",move,!1),slider.addEventListener("mousedown",startDragging,!1),slider.addEventListener("mouseup",stopDragging,!1),slider.addEventListener("mouseleave",stopDragging,!1),slider.classList.add("slide--applied")})},checkOfferShop:function(){window.Cookies.get("special-offer")!==void 0&&(this.offerShop=!0)},checkCookieForAd:function(){var adDiscountName="IDJW4Q",cookiediscount=Cookies.get("ad-script",{domain:".womensbest.com"});cookiediscount==adDiscountName&&(this.adCookie=!0,this.cartData.discount=adDiscountName)},showHideFixedCheckout:function(){if(!(!this.$refs.priceListingTotal||!this.$refs.fixedPriceListingTotal||!this.$refs.checkoutFixed)){return;var ot,otF,x,hide;if(document.getElementById("smile-ui-container")!==null){var smileFContainer;smileFContainer!==null&&(smileFContainer.style.marginBottom=hide?0:this.$refs.checkoutFixed.offsetHeight+"px")}}},loadCart:function(){var self2=this;return this.isBusy=!0,this.disableBtn=!0,Promise.all([this.$store.dispatch("cart/fetch"),axios({url:"/cart.json",method:"get",headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:0}}).then(response=>(self2.cartData.total_price=response.data.total_price,self2.loadcartItems=response.data.items.map(function(item){return item.product_data={},item.product_data_status=!1,item}),Promise.all(self2.loadcartItems.map(self2.getProductDataByItem)).then(product_datas=>{self2.loadcartItems.forEach(function(item,index){product_datas[index]&&(item.product_data=product_datas[index],item.product_data_status=!0)}),self2.loadcartItems=self2.loadcartItems.filter(function(item){return item.product_data_status}),console.log("self.loadcartItems",self2.loadcartItems),self2.checkloadedcartItems(),self2.subtotalCal(),self2.loadcartItems.length<1&&(self2.cartData.cartCount=0,self2.cartItems=self2.loadcartItems),console.log("self.cartData",self2.cartData),console.log("self.cartItems",self2.cartItems)}))).catch(function(error){console.log(error)})])},scrollToTop:function(){window.scrollTo(0,0)},itemChange:function(item,index,value){var self2=this,forceReduction=!1;if(item.sku=="9010128000807"||item.sku=="9010128008162"){var saleItemQty=0;if(self2.cartItems.forEach(function(itemc,index2){(itemc.sku=="9010128000807"||itemc.sku=="9010128008162")&&(saleItemQty=saleItemQty+itemc.quantity)}),saleItemQty%2===0&&(value<0?value=-2:value>0&&(value=2)),item.quantity+value==0)var forceReduction=!0}if(self2.disableBtn!=!0){if(item.quantity+value<1&&forceReduction==!1)return;item.quantity+value>this.maxCartItemQuantity&&(alert("not more than "+this.maxCartItemQuantity+" pieces"),item.quantity=this.maxCartItemQuantity-1);var itemId=item.id,itemQty=item.quantity+value,quantity=this.cartItems[index].quantity+value;axios({url:"/cart/change.json",method:"post",data:{quantity,line:index+1}}).then(function(response){document.dispatchEvent(new CustomEvent("oa:checkloadedcartItems")),self2.loadCart(),document.dispatchEvent(new CustomEvent("oa:changecarttracking",{detail:{sku:item.sku,qty:value}})),self2.subtotalCal()}).catch(function(error){return self2.cartError=error.response.data.errors,self2.scrollToTop(),console.log(error),console.log(error)})}},changeCart:function(postData){var self2=this;axios({url:"/cart/change.json",method:"post",data:postData}).then(function(response){self2.loadCart(),self2.subtotalCal()}).catch(function(error){return console.log(error)})},removeItem:function(item,index){var self2=this;axios({url:"/cart/change.json",method:"post",data:{quantity:0,line:item.index+1}}).then(function(response){item.properties.giftpromo==null&&(self2.cartData.removedItem=item,self2.cartData.removedItemQuantity=item.quantity,self2.cartData.removedItemPrice=item.price,self2.cartData.removedItemTitle=item.title,self2.cartData.removedItemSuccess=!0),self2.loadCart(),self2.subtotalCal(),document.dispatchEvent(new CustomEvent("oa:checkloadedcartItems")),document.dispatchEvent(new CustomEvent("oa:removecarttracking",{detail:{sku:item.sku,qty:"-"+item.quantity}}))}).catch(function(error){return console.log(error)}),this.eeRemoveCart(item,index,"removeFromCart")},readdItem:function(){var self2=this,item=this.cartData.removedItem;axios({url:"/cart/add.json",method:"post",data:item}).then(function(response){self2.cartData.removedItemSuccess=!1,self2.loadCart(),self2.cartChangedSelect(),self2.genericEvent("genericEvent","Cart","Undo",self2.cartData.removedItemTitle)})},subtotalCal:function(){var cartCount2=0,sum=0,sumreg=0,totalWeight=0;if(this.standartProducts.length>0)for(var i=0;i<this.standartProducts.length;i++){var lineWeight=this.standartProducts[i].grams*this.standartProducts[i].quantity;if(this.standartProducts[i].product_data.variants[this.standartProducts[i].product_data.variants.findIndex(itemvariant=>itemvariant.sku==this.standartProducts[i].sku)].compare_at_price>1){var price=this.standartProducts[i].line_price,compareLineTotal=this.standartProducts[i].product_data.variants[this.standartProducts[i].product_data.variants.findIndex(itemvariant=>itemvariant.sku==this.standartProducts[i].sku)].compare_at_price*100*this.standartProducts[i].quantity;sumreg+=compareLineTotal,sum+=price}else{var price=this.standartProducts[i].line_price;sumreg+=price,sum+=price}totalWeight+=lineWeight;var price=this.standartProducts[i].line_price;price>0&&this.standartProducts[i].handle!="routeins"&&(cartCount2+=this.standartProducts[i].quantity)}this.cartData.cartWeight=totalWeight,this.cartData.subtotal=sum,this.cartData.regularprice=sumreg,this.cartData.cartCount=cartCount2,window.oaHeader.loadCartCount(),this.totalCal(),this.youSafeCal(),this.smileBPCalc(),(this.cartData.subtotal>parseInt(this.settingFashionpromoValue)||this.settingSaleAjax==="true")&&document.dispatchEvent(new CustomEvent("oa:checkloadedcartItems"))},smileBPCalc:function(){if(this.$refs.cartSummarySmilePPValue){var bp_multi=this.$refs.cartSummarySmilePPValue.dataset.bp_multi,totalBestpoints=null;this.cartItems.filter(function(item){item.product_data.tags.indexOf("product_line_promotions")==-1&&(totalBestpoints=totalBestpoints+item.final_line_price)}),this.$refs.cartSummarySmilePPValue.innerText=Math.round(totalBestpoints*bp_multi/100)}},totalCal:function(){var self2=this;if(this.adCookie==!0){var cartTotal=0;setTimeout(function(){$("[data-ad-price]").each(function(){cartTotal+=parseInt($(this).attr("data-ad-price"))}),self2.cartData.total_price=cartTotal},500)}else this.cartData.cartWeight>1500?this.cartData.cartShippingRate=0:this.cartData.cartShippingRate=0,this.cartData.cartShippingRate>0?this.cartData.cartShippingRate>0&&this.cartData.discountPerc>0?this.cartData.total_price=this.cartData.subtotal+this.cartData.cartShippingRate-Math.floor(this.cartData.subtotal*(this.cartData.discountPerc/100)):this.cartData.cartShippingRate>0&&this.cartData.discountPerc==0?this.cartData.total_price=this.cartData.subtotal+this.cartData.cartShippingRate:this.cartData.total_price=this.cartData.subtotal:this.cartData.discountPerc>0?this.cartData.total_price=this.cartData.subtotal-Math.floor(this.cartData.subtotal*(this.cartData.discountPerc/100)):this.cartData.total_price=this.cartData.subtotal},youSafeCal:function(){var savings=this.cartData.regularprice-this.cartData.subtotal;this.cartData.yousafe=savings},getProductDataByItem:function(item){if(item.properties!=null&&item.properties.shipping_interval_frequency!=null){var preProductHandle=item.url.match(/([^\/\?]*)(\?.*)?$/)[1].split("-");preProductHandle.pop();var productHandle=preProductHandle.join("-")}else var productHandle=item.url.match(/([^\/\?]*)(\?.*)?$/)[1];return axios({url:"/products/"+productHandle+".json",method:"get"}).then(function(response){return response.data.product}).catch(function(error){return console.log(error),Promise.resolve()})},checkloadedcartItems:function(){if(this.loadcartItems.filter(function(item){return!item.product_data_status}).length===0){this.cartItems=this.loadcartItems;for(var i=0;i<this.cartItems.length;i++)this.cartItems[i].index=i;this.isBusy=!1,this.disableBtn=!1,this.cartChangedSelect(),this.fashionpromoproducts(),this.checkCartType(!0),this.fashionSetImgAdjustment()}},checkCartType:function(init){var items=this.cartItems;items.forEach(function(item){item.properties!=null&&item.properties.reward!=null||item.properties!=null&&item.properties.giftpromo!=null||(vueapp.cartType==null||init)&&(item.product_type.indexOf("Sportswear")!=-1?vueapp.cartType="sportswear":vueapp.cartType="nutrition")})},changeVariant:function(item){this.onChangeTracking(item);var self2=this;this.isBusy=!0,this.buildcartItems=this.cartItems.filter(function(item2){return!0}),axios({url:"/cart/clear.json",method:"post"}).then(function(response){self2.buildCartByItems()}).catch(function(error){return console.log(error)})},buildCartByItems:function(){if(this.buildcartItems.length>0){var item=this.buildcartItems.pop(),index=item.index,discountPrice=item.discounted_price,postData=[];if(discountPrice<1)var postData={quantity:item.quantity,id:item.variant_id,properties:{alreadydiscounted:!0}};else var postData={quantity:item.quantity,id:item.variant_id};var properties=item.properties;if(properties)var postData={quantity:item.quantity,id:item.variant_id,properties};var self2=this;axios({url:"/cart/add.json",method:"post",data:postData}).then(function(response){self2.buildCartByItems()}).catch(function(error){return console.log(error)})}else this.loadCart()},addProduct:function(variantid,productid){var self2=this;axios.post("/cart/update.json","updates["+variantid+"]=1").then(function(response){self2.buildCartByItems()}).catch(function(error){return console.log(error)})},addProductClick:function(variantid,productid){var self2=this;axios.post("/cart/add.js",{quantity:1,id:variantid}).then(function(response){self2.loadCart(),document.dispatchEvent(new CustomEvent("oa:checkloadedcartItems")),document.dispatchEvent(new CustomEvent("oa:addtocarttracking",{detail:{sku:response.data.sku,qty:"1",title:response.data.title,prodID:response.data.product_id,variantID:response.data.variant_id}}))}).catch(function(error){return console.log(error)})},deleteProduct:function(variantid,productid){var itemInCart;if(this.cartItems.filter(function(item){item.product_id==productid?itemInCart=!0:console.log("item is not in cart")}),itemInCart==!0){var self2=this;axios.post("/cart/update.json","updates["+variantid+"]=0").then(function(response){self2.buildCartByItems(),console.log("item deleted")}).catch(function(error){return console.log(error)})}else this.loadCart()},cartChangedSelect:function(){setTimeout(function(){try{/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&($(".cart-item select").selectpicker("mobile"),$(".oa-cart-rewards-item-container select").selectpicker("mobile")),$(".cart-item select").selectpicker("refresh"),$(".oa-cart-rewards-item-container select").selectpicker("refresh")}catch{}},1)},discountClick:function(){$(".oa-cart-coupon-info").toggleClass("open");var checkbox=$(".oa-cart-discount__checkbox");checkbox.toggleClass("checked"),$(".oa-discount-section").slideToggle(200,function(){checkbox.hasClass("checked")&&$("#oa-cart__discount-input").focus()})},discountSubmit:function(){var discountUrl="/checkout?discount="+this.cartData.discount,discountCheckClick=$("#oa-cart__discount-submit");if(!(this.cartData.discount==null||this.cartData.discount=="")){this.cartData.discountLoading=!0,this.cartData.removedDiscount=null;var self2=this;axios({url:discountUrl,method:"get"}).then(function(response){self2.cartData.discountLoading=!1,self2.cartData.discountData=response.data;var discountValue=$(response.data).contents().find("[data-checkout-discount-amount-target]").attr("data-checkout-discount-amount-target"),discountCodeType=$(response.data).contents().find("[data-discount-type]").attr("data-discount-type"),errorMessage=$(response.data).contents().find("#error-for-reduction_code").html(),warningMessage=$(response.data).contents().find(".notice__text").html();self2.cartData.discountType=discountCodeType,errorMessage?(self2.cartData.SuccessMessageCheck=!1,console.log("discount error"+errorMessage),self2.cartData.dangerMessage=errorMessage,self2.cartData.dangerMessageCheck=!0,setTimeout(function(){self2.cartData.dangerMessageCheck=!1},2e4),self2.genericEvent("genericEvent","Error Message","cart_coupon",self2.cartData.dangerMessage)):warningMessage?(self2.cartData.SuccessMessageCheck=!1,console.log("discount warning"+warningMessage),self2.cartData.dangerMessage=warningMessage.replace("<strong>",'"').replace("</strong>",'"'),self2.cartData.dangerMessageCheck=!0,setTimeout(function(){self2.cartData.dangerMessageCheck=!1},2e4),self2.genericEvent("genericEvent","Error Message","cart_coupon",self2.cartData.dangerMessage)):(discountCodeType=="percentage"?(self2.cartData.currentDiscount=self2.cartData.discount,self2.cartData.discountValue=parseInt(discountValue),self2.cartData.dangerMessageCheck=!1,self2.cartData.discountPerc=Math.round(self2.cartData.discountValue*100/self2.cartData.subtotal),self2.cartData.SuccessMessageCheck=!0,self2.$store.state.base.currentLang=="en",self2.cartData.SuccessMessage="Discount code is added to your cart.",setTimeout(function(){self2.cartData.SuccessMessageCheck=!1},2e4),self2.subtotalCal()):discountCodeType=="fixed_amount"?(console.log(discountCodeType),self2.cartData.currentDiscount=self2.cartData.discount,self2.cartData.SuccessMessageCheck=!0,self2.$store.state.base.currentLang=="en",self2.cartData.SuccessMessage='Your discount code is a "Fixed Amount Discount Code" and will be listed in detail at the Checkout',setTimeout(function(){self2.cartData.SuccessMessageCheck=!1},2e4),self2.subtotalCal()):discountCodeType=="shipping"?(console.log(discountCodeType),self2.cartData.currentDiscount=self2.cartData.discount,self2.cartData.SuccessMessageCheck=!0,self2.$store.state.base.currentLang=="en",self2.cartData.SuccessMessage='Your discount code is a "Free Shipping Discount Code" and will be listed in detail at the Checkout',setTimeout(function(){self2.cartData.SuccessMessageCheck=!1},2e4),self2.subtotalCal()):(console.log(discountCodeType),self2.cartData.currentDiscount=self2.cartData.discount,self2.cartData.SuccessMessageCheck=!0,self2.$store.state.base.currentLang=="en",self2.cartData.SuccessMessage="Your discount code will be listed in detail at the Checkout",setTimeout(function(){self2.cartData.SuccessMessageCheck=!1},2e4),self2.subtotalCal()),self2.genericEvent("genericEvent","Cart","voucher redeem",self2.cartData.currentDiscount))}).catch(function(error){self2.cartData.discountLoading=!1,console.log(error)})}},checkDiscountFromCart:function(){var self2=this,discountUrl="/checkout";axios({url:discountUrl,method:"get"}).then(function(response){var codeName=$(response.data).find("[data-discount-type]").find(".reduction-code__text").last().text();if(codeName===""&&(codeName=Cookies.get("discount",{domain:".womensbest.com"})||""),codeName!=""){$(".oa-cart-discount__checkbox").addClass("checked"),$(".oa-discount-section").show(400),$("#oa-cart__discount-input").val(codeName),self2.cartData.discount=codeName;var discountUrl2="/checkout?discount="+self2.cartData.discount,discountCheckClick=$("#oa-cart__discount-submit");self2.cartData.removedDiscount=null,axios({url:discountUrl2,method:"get"}).then(function(response2){discountCheckClick.html('<i class="fa fa-angle-right"></i>'),self2.cartData.discountData=response2.data;var discountValue=$(response2.data).contents().find("[data-checkout-discount-amount-target]").attr("data-checkout-discount-amount-target"),discountCodeType=$(response2.data).contents().find("[data-discount-type]").attr("data-discount-type"),errorMessage=$(response2.data).contents().find("#error-for-reduction_code").html();discountCodeType=="percentage"?(self2.cartData.currentDiscount=self2.cartData.discount,self2.cartData.discountValue=parseInt(discountValue),self2.cartData.dangerMessageCheck=!1,self2.cartData.discountPerc=Math.round(self2.cartData.discountValue*100/self2.cartData.subtotal),self2.subtotalCal()):(discountCodeType=="fixed_amount"||discountCodeType=="shipping",self2.subtotalCal())})}})},cabAdd:function(product,index,variant){var self2=this,ids=[],idCheck=!1,itemCount=0,varid;if(!(variant&&!variant.available)&&product.available){window.Cookies.get("special-offer")!==void 0&&window.WBupdateCartNote("special-offer"),variant&&(self2.$store.commit("cabs/setCartCabSelected",variant),itemCount=1),product.variants.forEach(function(item,index2){(typeof item.inventory_quantity>"u"||item.inventory_quantity>0)&&itemCount==0&&(varid=item.id,itemCount=1)});var quantity=1,totalbogo=0;this.cartItems.filter(function(item){item.product_id==9705691716&&(totalbogo+=1)}),product.id==8105120769&&totalbogo<1&&(quantity=2),product.variants.filter(function(item,event){idCheck==!1&&(item.id==self2.$store.state.cabs.cartCabSelected.id?idCheck=!0:idCheck=!1)}),idCheck==!0&&(varid=self2.$store.state.cabs.cartCabSelected.id),axios.post("/cart/add.js",{quantity,id:varid}).then(function(response){self2.loadCart(),self2.eeAddToCart(product,index),document.dispatchEvent(new CustomEvent("oa:checkloadedcartItems")),document.dispatchEvent(new CustomEvent("oa:addtocarttracking",{detail:{sku:response.data.sku,qty:"1",title:response.data.title,prodID:response.data.product_id,variantID:response.data.variant_id}}))}).catch(function(error){return console.log(error)})}},wishlistProducts:function(){this.cartData.cartWishlist={},this.cartData.cartWishlistIds=Object.keys(iWishlistmain).reverse().splice(0,4),this.getWishlistProduct()},getWishlistProduct:function(){console.log("222222222222222");var self2=this,idList="";console.log("this.cartData.cartWishlistIds",this.cartData.cartWishlistIds),this.cartData.cartWishlistIds.forEach(function(item){idList=idList+item+","}),window.axios("/search?view=iwish&q="+idList).then(function(response){var resp=response;self2.cartData.cartWishlist!=resp.data&&(self2.cartData.cartWishlist=resp.data,setTimeout(function(){self2.setUpDragSlide()},200),Vue.nextTick(function(){typeof window.equalHeightInstance<"u"&&window.equalHeightInstance.update({ignoreShopGrid:!0,cache:!0})}))})},isItemInStock:function(item){if(!item)return!1;if(item.product_type=="Gift Cards"||item.properties&&item.properties.bundleproperties||!item.product_data||!item.product_data.variants)return!0;var variant=item.product_data.variants.filter(function(variant2){return variant2.sku===item.sku})[0];return!variant||typeof variant.inventory_quantity>"u"?!0:variant.inventory_quantity>0},discountRemove:function(){var removeDiscountUrl="/checkout?discount=%20";axios({url:removeDiscountUrl,method:"get"}).then(function(response){$("#oa-cart__discount-input").val(""),self.cartData.removedDiscount=self.cartData.discount,self.cartData.discount=null,self.cartData.discountPerc=null,self.cartData.discountValue=null,self.totalCal(),console.log("discount removed"),self.cartData.SuccessMessageCheck=!0,self.cartData.SuccessMessage="Your discount code is now removed!",self.genericEvent("genericEvent","Cart","voucher delete",self.cartData.removedDiscount)})},readdDiscount:function(){var self2=this,discountUrl="/checkout?discount="+this.cartData.removedDiscount,discountCheckClick=$("#oa-cart__discount-submit");discountCheckClick.html('<img src="https://cdn.shopify.com/s/files/1/1812/3759/files/loadinground.gif?18110229494894053591"/>'),this.cartData.discount=this.cartData.removedDiscount,axios({url:discountUrl,method:"get"}).then(function(response){discountCheckClick.html('<i class="fa fa-angle-right"></i>'),self2.cartData.currentDiscount=self2.cartData.discount,self2.cartData.discountData=response.data;var discountValue=$(response.data).contents().find("[data-checkout-discount-amount-target]").attr("data-checkout-discount-amount-target");self2.cartData.discountValue=parseInt(discountValue),self2.cartData.removedDiscount=null,self2.cartData.discountPerc=Math.round(self2.cartData.discountValue*100/self2.cartData.subtotal),self2.cartData.SuccessMessage="Discount code is added to your cart.",self2.cartData.SuccessMessageCheck=!0,setTimeout(function(){self2.cartData.SuccessMessageCheck=!1},2e4),self2.subtotalCal(),self2.genericEvent("genericEvent","Cart","voucher undo",self2.cartData.currentDiscount)})},getProductCategoryString:function(type,variant1,variant2){if(!(variant1==null||variant2==null))return variant1=="Default Title"?(variant1="none",variant2="Ebook"):variant1.match(/\d/)!==null&&(variant2=variant1,variant1="none"),type+variant1+"/"+variant2},getProductVariantString:function(variant1){if(variant1!=null)return variant1=="Default Title"&&(variant1="Ebook"),variant1.trim().length==0&&(variant1=void 0),variant1},getProductBadges:function(onsale,tags,available){var badges=[];return onsale&&badges.push("sale"),tags.indexOf("best-seller")!==-1&&badges.push("bestseller"),tags.indexOf("flavor")!==-1&&badges.push("new flavor"),tags.indexOf("new")!==-1&&badges.push("new product"),available||badges.push("sold out"),badges.join(", ")},getUniqueId:function(id,variantid){var uniqueid=["shopify",id,variantid];return uniqueid.join("_")},genericEvent:function(event,category,action,label){dataLayer.push({event,category,action,label})},onChangeTracking:function(item){var onChangedItem=item.product_data.variants.filter(function(item2){return item2.id==this},item.variant_id),onChangedVariantTitle=onChangedItem[0].title,freeProduct="";if(onChangedItem[0].price==0)var freeProduct="Free ";else var freeProduct="";dataLayer.push({event:"selectionMade",selectedElement:'"'+onChangedVariantTitle+'"',productTitle:freeProduct+item.product_title})},eeRemoveCart:function(item,index,action){var trackingCurrency="",trackingCurrency=this.$store.getters["base/currencyCode"],freeProduct="";if(item.line_price==0)var freeProduct="Free ";else var freeProduct="";dataLayer.push({event:action,ecommerce:{currencyCode:trackingCurrency,remove:{products:[{name:freeProduct+item.product_title,id:item.sku,price:this.moneyformatTracking(item.line_price),brand:item.vendor,category:this.getProductCategoryString(item.product_type,item.variant_options[0],item.variant_options[1]),variant:this.getProductVariantString(item.variant_options[0]),quantity:item.quantity,metric2:"-"+this.moneyformatTracking(item.line_price),dimension6:index,dimension17:this.getProductBadges(item.original_line_price>item.price,item.product_data.tags,!0)}]}}})},eeAddToCart:function(item,index){var trackingCurrency="",idCheck=!1,optionOne=item.variants[0].option1,optionTwo=item.variants[0].option2,varid=item.variants[0].id,i=index,trackingCurrency=this.$store.getters["base/currencyCode"],freeProduct="";if(item.line_price==0)var freeProduct="Free ";else var freeProduct="";var self2=this;item.variants.filter(function(item2,event){idCheck==!1&&(item2.id==self2.$store.state.cabs.cartCabSelected.id?idCheck=!0:idCheck=!1)}),idCheck==!0&&(optionOne=this.$store.state.cabs.cartCabSelected.option1,optionTwo=this.$store.state.cabs.cartCabSelected.option2,varid=this.$store.state.cabs.cartCabSelected.id),dataLayer.push({event:"addToCart",ecommerce:{currencyCode:trackingCurrency,add:{actionField:{list:"Cart"},products:[{name:freeProduct+item.title,id:item.sku,price:item.price,brand:item.vendor,category:this.getProductCategoryString(item.type,optionOne,optionTwo),variant:this.getProductVariantString(optionOne),quantity:item.quantity,dimension6:i,metric2:this.moneyformatTracking(item.price),dimension99:this.getUniqueId(item.id,varid),dimension17:this.getProductBadges(item.variants[0].compare_at_price>item.price,item.tags,!0),position:""}]}}})},manageFreeProducts:function(productID,variantID,productID2,variantID2){var self2=this,promotionsInCart=this.freeProducts.length;if(this.cartData.total_price>1e3&&promotionsInCart==0)axios.post("/cart/update.json","updates["+variantID+"]=1&updates["+variantID2+"]=1").then(function(response){self2.loadCart()}).catch(function(error){return console.log(error)});else if(this.cartData.total_price>1e3&&promotionsInCart>2){var itemIDs=[];this.freeProducts.forEach(function(item){itemIDs.push(item.id)}),itemIDs.length==2?axios.post("/cart/update.json","updates["+itemIDs[0]+"]=0&updates["+itemIDs[1]+"]=0").then(function(response){self2.loadCart()}).catch(function(error){return console.log(error)}):axios.post("/cart/update.json","updates["+itemIDs[0]+"]=0").then(function(response){self2.loadCart()}).catch(function(error){return console.log(error)})}else if(this.cartData.total_price<1e3&&promotionsInCart!=0){var itemIDs=[];this.freeProducts.forEach(function(item){itemIDs.push(item.id)}),itemIDs.length==2?axios.post("/cart/update.json","updates["+itemIDs[0]+"]=0&updates["+itemIDs[1]+"]=0").then(function(response){self2.loadCart()}).catch(function(error){return console.log(error)}):axios.post("/cart/update.json","updates["+itemIDs[0]+"]=0").then(function(response){self2.loadCart()}).catch(function(error){return console.log(error)})}},bundleitemsName:function(bundleitem){var bundleName=bundleitem.replace().match(/(.*),(.*),(.*),(.*),(.*)/);return bundleName[1]},bundleitemsVairant:function(bundleitem){var bundleVariants=bundleitem.replace().match(/(.*),(.*),(.*),(.*),(.*)/);return bundleVariants[3]},bundleitemsHandle:function(bundleitem){var bundleVariants=bundleitem.replace().match(/(.*),(.*),(.*),(.*),(.*)/);return bundleVariants[2]},rewardproducts:function(){var self2=this;axios({url:"/cart?view=rewards",method:"get"}).then(function(response){var cartRewards=response.data;cartRewards==null||cartRewards.rewards==null||(cartRewards.skus&&(cartRewards.rewards=cartRewards.rewards.filter(function(product){return!!product}).map(function(product){return product.variants=product.variants.filter(function(variant){return cartRewards.skus.indexOf(variant.sku)!==-1}),product}).filter(function(product){return product.variants.length>0})),cartRewards.rewards=cartRewards.rewards.filter(function(product){return!!product}).map(function(product){return product.variants=product.variants.filter(function(variant){return variant.available&&(typeof variant.inventory_quantity>"u"||variant.inventory_quantity>3)}),product}).filter(function(product){return product.variants.length>0}),self2.cartData.cartRewards=cartRewards,self2.cartData.cartRewards.rewards.forEach(function(item,index){var itemIdToAdd=null,variantFound=!1;item.variants.forEach(function(variant,indexv){variant.available&&(typeof variant.inventory_quantity>"u"||variant.inventory_quantity>0)&&variantFound==!1&&(itemIdToAdd=variant.id,variantFound=!0)}),self2.cartData.cartRewardsSelected.items[index]=itemIdToAdd}),self2.rewardChangedSelect())})},fashionpromoproducts:function(){if(this.settingFashionpromo==="1"){var self2=this;self2.fashionPromo.promoProducts.leggings.length>0&&self2.fashionPromo.promoProducts.tops.length>0||axios.get("/cart?view=fashionpromo",{headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:0}}).then(function(response){if(self2.fashionPromo.promoProducts=response.data,self2.fashionPromo.leggingSelected.selected===-1&&self2.fashionPromo.leggingSelected.selectedSize===-1){var leggings=self2.fashionPromoProducts.filter(function(product){return self2.validateFashionPromoProductLegging(product)}),legging;leggings.length>0&&(legging=leggings[0]),legging?self2.fashionPromo.promoProducts.leggings.forEach(function(product,index){legging.product_data.id===product.id&&(self2.fashionPromo.leggingSelected.selected=index,product.variants.forEach(function(variant,index2){legging.id===variant.id&&(self2.fashionPromo.leggingSelected.selectedSize=index2)}))}):(self2.fashionPromo.leggingSelected.selected=0,self2.fashionPromo.leggingSelected.selectedSize=-1)}if(self2.fashionPromo.topSelected.selected===-1&&self2.fashionPromo.topSelected.selectedSize===-1){var tops=self2.fashionPromoProducts.filter(function(product){return self2.validateFashionPromoProductTop(product)}),top;tops.length>0&&(top=tops[0]),top?self2.fashionPromo.promoProducts.tops.forEach(function(product,index){top.product_data.id===product.id&&(self2.fashionPromo.topSelected.selected=index,product.variants.forEach(function(variant,index2){top.id===variant.id&&(self2.fashionPromo.topSelected.selectedSize=index2)}))}):(self2.fashionPromo.topSelected.selected=0,self2.fashionPromo.topSelected.selectedSize=-1)}self2.rewardChangedSelect()})}},validateFashionPromoProduct:function(item){return this.settingFashionpromo!=="1"?!1:this.validateFashionPromoProductLegging(item)||this.validateFashionPromoProductTop(item)},validateFashionPromoProductLegging:function(item){return item.properties!=null&&item.properties.fsolegging&&item.properties.fsolegging===!0},validateFashionPromoProductTop:function(item){return item.properties!=null&&item.properties.fsobra&&item.properties.fsobra===!0},validateRechargeProduct:function(item){return item.properties!=null&&item.properties.shipping_interval_frequency&&item.properties.shipping_interval_frequency!==void 0},updateFashionPromo:function(variant,property,validator,noLoadCart){if(!variant||!validator)return Promise.resolve();var self2=this;function add(){var addedVariants=self2.fashionPromoProducts.filter(function(item){return validator(item)&&variant.id===item.id});if(addedVariants.length===0){var properties={};return properties[property]=!0,axios.post("/cart/add.js",{quantity:1,id:variant.id,properties}).then(function(response){noLoadCart!==!0&&self2.loadCart()})}else return Promise.resolve()}var toDeleteRewardProducts="",axiosUpdateString="",axiosUpdateData={};return this.fashionPromoProducts.length>0&&this.fashionPromoProducts.filter(function(item){return validator(item)&&variant.id!==item.id}).forEach(function(item,index){axiosUpdateData[item.id]=0}),Object.keys(axiosUpdateData).length>0?axios.post("/cart/update.json",{updates:axiosUpdateData}).then(function(response){return add()}):add()},fashionPromoReset:function(){var items=this.cartItems.filter(function(item){return item.properties&&(item.properties.fsolegging||item.properties.fsobra)});if(this.fashionPromo.leggingSelected.selectedSize=-1,this.fashionPromo.topSelected.selectedSize=-1,!(items.length<1)){var data={};items.forEach(function(item){data[item.variant_id]=0});var self2=this;return axios.post("/cart/update.json",{updates:data}).then(function(){self2.loadCart(),self2.fashionPromo.leggingSelected.selectedSize=-1,self2.fashionPromo.topSelected.selectedSize=-1})}},rewardChangedSelect:function(){setTimeout(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&$("div[select-index] .selectpicker").selectpicker("mobile"),$("div[select-index] .selectpicker").selectpicker()},1500)},refreshSelect:function(){setTimeout(function(){$("div[select-index] .selectpicker").selectpicker("refresh")},500)},rewardSelectChange:function(value,index){this.cartData.cartRewardsSelected.selected=value,this.cartData.cartRewardsSelected.radioIndex=index},rewardReset:function(){this.cartData.cartRewardsSelected.forceRemove=!0;var toDeleteRewardProducts=[],axiosUpdateString,self2=this;if(this.rewardProducts.length>0){this.rewardProducts.forEach(function(item,index){self2.rewardProducts.length==index+1?toDeleteRewardProducts+='"'+item.id+'": 0':toDeleteRewardProducts+='"'+item.id+'": 0, '});var jsonString='{"updates": {'+toDeleteRewardProducts+"}}";axiosUpdateString=JSON.parse(jsonString),axios({url:"/cart/update.json",method:"post",data:axiosUpdateString}).then(function(response){console.log("free gift reset"),self2.loadCart(),self2.cartData.cartRewardsSelected.selected=null,self2.cartData.cartRewardsSelected.radioIndex=null,self2.cartData.cartRewardsSelected.prevItem=null}).catch(function(error){console.log(error)})}},validateNoteTracking:function(){var cSpecialOffer=Cookies.get("SONoteTracking",{domain:".womensbest.com"});cSpecialOffer!==void 0&&(this.noteTracking=cSpecialOffer)},algoliaCartSubmitTracking:function(){var variantIds=[];if(this.cartItems.forEach(function(item){variantIds.push(JSON.stringify(item.id))}),this.$store.state.base.currentShop!="me"){var algoliaEventData={userToken:window.getUserUuid(),index:window.algoliaIndex,eventName:"CART: Product passed to checkout",objectIDs:variantIds};aa("convertedObjectIDs",algoliaEventData)}}},watch:{cartType:function(newVal,oldVal){axios.post("/cart/update.js","attributes[carttype]="+newVal)},cartError:function(newVal,oldVal){this._cartErrorTimeout&&(clearTimeout(this._cartErrorTimeout),this.cartErrorTimeout=null);var self2=this;this._cartErrorTimeout=setTimeout(function(){self2.cartError=null,self2._cartErrorTimeout=null},5e3)},"cartData.cartCount":function(newVal,oldVal){oldVal<1&&(this.$nextTick(()=>this.smileBPCalc()),this.$nextTick(()=>this.showHideFixedCheckout()))},"cartData.subtotal":function(newVal,oldVal){if(this.settingFashionpromo==="1"){(newVal<parseInt(this.settingFashionpromoValue)||this.fashionProducts.length==0)&&this.fashionPromoReset();var self2=this;self2.updateFashionPromo(self2.fashionPromoSelectedLeggingSize,"fsolegging",self2.validateFashionPromoProductLegging,!0).then(function(){return self2.updateFashionPromo(self2.fashionPromoSelectedTopSize,"fsobra",self2.validateFashionPromoProductTop)})}},"cartData.cartRewardsSelected.radioIndex":function(newVal,oldVal){this.cartData.cartRewardsSelected.forceRemove!==!0&&(this.cartData.cartRewardsSelected.selected=this.cartData.cartRewardsSelected.items[newVal])},"cartData.cartRewardsSelected.items":function(newVal,oldVal){this.cartData.cartRewardsSelected.forceRemove!==!0&&(this.cartData.cartRewardsSelected.selected=newVal[this.cartData.cartRewardsSelected.radioIndex])},"cartData.cartRewardsSelected.selected":function(newVal,oldVal){var self2=this;if(this.cartData.cartRewardsSelected.forceRemove!==!0){var toDeleteRewardProducts=[],axiosUpdateString;if(this.cartData.cartRewardsSelected.disableReward==!1)if(this.cartData.cartRewardsSelected.disableReward=!0,this.rewardProducts.length>0){this.rewardProducts.forEach(function(item,index){self2.cartData.cartRewardsSelected.prevItem!=null&&(self2.cartData.cartRewardsSelected.selected=self2.cartData.cartRewardsSelected.prevItem),self2.rewardProducts.length==index+1?toDeleteRewardProducts+='"'+item.id+'": 0':toDeleteRewardProducts+='"'+item.id+'": 0, '});var jsonString='{"updates": {'+toDeleteRewardProducts+"}}";axiosUpdateString=JSON.parse(jsonString),axios({url:"/cart/update.json",method:"post",data:axiosUpdateString}).then(function(response){if(self2.cartData.cartRewardsSelected.selected!==null){var postUrl="/cart/add.json",postQTY=1;self2.standartProducts.filter(function(item){if(item.id==self2.cartData.cartRewardsSelected.selected)return postQTY=0});var axiosData={id:self2.cartData.cartRewardsSelected.selected,quantity:postQTY,properties:{reward:!0}};axios.post(postUrl,axiosData).then(function(response2){self2.cartData.cartRewardsSelected.prevItem=null,self2.loadCart().finally(function(){}),setTimeout(function(){self2.cartData.cartRewardsSelected.disableReward=!1},500)}).catch(function(error){console.log(error),setTimeout(function(){self2.cartData.cartRewardsSelected.disableReward=!1},500)}),$('div[select-index="'+self2.cartData.cartRewardsSelected.radioIndex+'"] .selectpicker').val(self2.cartData.cartRewardsSelected.selected),$('div[select-index="'+self2.cartData.cartRewardsSelected.radioIndex+'"] .selectpicker').selectpicker("refresh")}}).catch(function(error){return console.log(error)})}else this.cartData.cartRewardsSelected.selected!==null&&axios.post("/cart/add.js",{quantity:1,id:this.cartData.cartRewardsSelected.selected,properties:{reward:!0}}).then(function(response){self2.cartData.cartRewardsSelected.prevItem=null,self2.loadCart(),console.log("post ajax 2 ",oldVal,newVal,self2.standartProducts,self2.rewardProducts),setTimeout(function(){self2.cartData.cartRewardsSelected.disableReward=!1},500)}).catch(function(error){console.log(error),setTimeout(function(){self2.cartData.cartRewardsSelected.disableReward=!1},500)})}console.log("post ajax 3",oldVal,newVal,self2.standartProducts,self2.rewardProducts)},isBusy:function(newVal,oldVal){if(oldVal==!0&&newVal==!1&&this.cartChangedSelect(),this.isBusy==!0){var elementHeight=$(".cart_background").height();$(".cart_background").css("height",elementHeight)}else $(".cart_background").css("height","auto")},fashionPromoSelectedLegging:function(){this.refreshSelect()},fashionPromoSelectedTop:function(){this.refreshSelect()},fashionPromoSelectedLeggingSize:function(){this.updateFashionPromo(this.fashionPromoSelectedLeggingSize,"fsolegging",this.validateFashionPromoProductLegging)},fashionPromoSelectedTopSize:function(oldVariant,newVariant){var self2=this;setTimeout(function(){self2.updateFashionPromo(self2.fashionPromoSelectedTopSize,"fsobra",self2.validateFashionPromoProductTop)},oldVariant&&!newVariant?1e3:0)}},computed:{...Vuex.mapGetters("base",["moneyformat","moneyPercFormat"]),currency:function(){return this.$store.getters["base/currencyCode"]},cartStyle:function(){return this.isBusy?"opacity: 0.35;transition: all 0.15s;cursor:progress":"opacity: 1;transition: all 0.15s;"},cartPriceStyle:function(){return this.isBusy?"opacity: 0.0;transition: all 0.05s;":"opacity: 1;transition: all 0.15s;"},freeProducts:function(){var self2=this;return this.cartItems.filter(function(item){if(!self2.validateRewardProduct(item)&&!self2.validateFashionPromoProduct(item))return item.line_price===0})},standartProducts:function(){var self2=this;return this.cartItems.filter(function(item){if(!self2.validateRewardProduct(item)&&!self2.validateFashionPromoProduct(item))return item.line_price!==0})},bundleProducts:function(){var self2=this;return this.cartItems.filter(function(item){if(!self2.validateRewardProduct(item)&&!self2.validateFashionPromoProduct(item))return item.line_price!==0&&item.properties!=null&&item.properties.bundleproducts!=null})},cartCount:function(){var self2=this,cartCount2=0;return this.cartItems.forEach(function(item){cartCount2+=item.quantity}),cartCount2},freesportsbra:function(){var self2=this,hasbra=!1;return this.freeProducts.forEach(function(item){item.handle=="gift-sportswear-3"&&(hasbra=!0)}),hasbra},reChargeProducts:function(){var self2=this;return this.cartItems.filter(function(item){if(self2.validateRechargeProduct(item)&&!self2.validateRewardProduct(item)&&!self2.validateFashionPromoProduct(item))return item})},nutritionProducts:function(){return this.cartItems.filter(function(item){try{return typeof item.product_data<"u"&&item.product_data.tags.indexOf(" product_line_fitness")!=-1}catch{console.log(item)}})},bogoProducts:function(){return this.cartItems.filter(function(item){return typeof item.product_data<"u"&&item.product_data.tags.indexOf(" bogo")!=-1})},flatrateProducts:function(){var self2=this;return this.cartItems.filter(function(item){if(!self2.validateRewardProduct(item)&&!self2.validateFashionPromoProduct(item))return item.line_price!==0&&item.product_data.tags.indexOf("flatrate")!=-1})},offerSubtotal:function(){var offersub=0;return this.cartItems.filter(function(item){offersub=offersub+item.original_line_price}),offersub},newReleasesProducts:function(){return this.cartItems.filter(function(item){if(item.product_data.tags.indexOf("new")!=-1)return item})},defineProducts:function(){return this.cartItems.filter(function(item){if(item.product_data.tags.indexOf("define")!=-1)return item})},fashionProducts:function(){return this.cartItems.filter(function(item){if(item.product_data.tags.indexOf("product_line_fashion")!=-1&&item.properties.fsolegging!=!0)return item})},dealday10:function(){return this.cartItems.filter(function(item){if(item.product_data.tags.indexOf("deal-of-the-day-10")!=-1)return item})},rewardProducts:function(){var self2=this;return this.cartItems.filter(function(item){if(self2.validateRewardProduct(item)&&item.properties.reward==!0)return item})},freeGifts:function(){return new CartFreeGifts(this.$store.state.base.currentShop,this.$store.state.base.currentLang)},gifts:function(){return this.freeGifts.gifts},freeShippingFrom:function(){return this.freeGifts.freeShippingFrom},scriptPromoSavings:function(){var scriptPromoName=!1;return this.cartItems.filter(function(item){if(item.line_level_discount_allocations[0]&&item.line_level_discount_allocations[0].discount_application.title){var tmp=item.line_level_discount_allocations[0].discount_application.title.split("|")[1];tmp&&(scriptPromoName=tmp.match(/\d+/)[0]*100)}}),scriptPromoName},fashionPromoProducts:function(){var self2=this;return self2.cartItems.filter(function(item){if(self2.validateFashionPromoProduct(item))return item})},fashionPromoSelectedLegging:function(){return this.fashionPromo.promoProducts.leggings[this.fashionPromo.leggingSelected.selected]},fashionPromoSelectedTop:function(){return this.fashionPromo.promoProducts.tops[this.fashionPromo.topSelected.selected]},fashionPromoSelectedLeggingSize:function(){return!this.fashionPromoSelectedLegging||typeof this.fashionPromoSelectedLegging.variants>"u"?null:this.fashionPromoSelectedLegging.variants[this.fashionPromo.leggingSelected.selectedSize]},fashionPromoSelectedTopSize:function(){return!this.fashionPromoSelectedTop||typeof this.fashionPromoSelectedTop.variants>"u"?null:this.fashionPromoSelectedTop.variants[this.fashionPromo.topSelected.selectedSize]},shouldShowRewards:function(){return(typeof this.reChargeProducts>"u"||this.reChargeProducts.length===0)&&this.cartData.cartRewards.rewards&&this.cartData.cartRewards.rewards.length>0}}}),el=document.getElementById("vue-app"),vueapp=new VueCart({name:"Cart",el,store:vuestore});function reloadPageIE(){}function CartShopUtils(currentShop,currentLang){function currencySymbol(){switch(currentShop){case"de":case"fr":case"eu":return"\u20AC";case"uk":return"\xA3";case"au":return"$";case"ca":return"$";case"us":case"com":default:return"$"}}function currencyCode(){switch(currentShop){case"de":case"fr":case"eu":return"EUR";case"uk":return"GBP";case"au":return"AUD";case"ca":return"CAD";case"us":case"com":default:return"USD"}}function priceSeparatorUs(){switch(currentShop){case"de":return!1;case"fr":return!1;case"eu":return!0;case"uk":case"au":case"ca":case"us":case"com":default:return!0}}function language(){return currentLang.toUpperCase()}function freeShippingFrom(){try{var ipShopCache=GeoRedirect.getIpShopCache(),countryCode=ipShopCache&&ipShopCache.country_code}catch(err){console.log("Georedirect undefined",err);var countryCode=""}switch(currentShop){case"de":switch(countryCode){case"CH":return 15e3;case"LI":return 9e3}return 5900;case"eu":switch(countryCode){case"FR":case"IE":return 5900}return 9900;case"uk":return 6e3;case"au":return 15e3;case"ca":return 12e3;case"us":return 9e3;case"com":switch(countryCode){case"CN":return 0}return 3e4;default:return 0}}return{currencySymbol:currencySymbol(),language:language(),currencyCode:currencyCode(),priceSeparatorUs:priceSeparatorUs(),freeShippingFrom:freeShippingFrom()}}function CartFreeGifts(currentShop,currentLang){function freeShippingFrom(){try{var ipShopCache=GeoRedirect.getIpShopCache(),countryCode=ipShopCache&&ipShopCache.country_code}catch(err){console.log("Georedirect undefined",err);var countryCode=""}switch(currentShop){case"de":switch(countryCode){case"CH":return 15e3;case"LI":return 9e3}return 5900;case"eu":switch(countryCode){case"FR":case"IE":return 5900}return 9900;case"uk":return 6e3;case"au":return 15e3;case"ca":return 12e3;case"us":return 9e3;case"com":switch(countryCode){case"CN":return 0}return 3e4;default:return 0}}var gifts=[],freeShippingFromValue=freeShippingFrom();return freeShippingFromValue>0&&gifts.push({title:function(){switch(currentLang){case"de":return"Versand";case"fr":return"Livraison";default:return"Shipping"}}(),value:freeShippingFromValue}),vueapp.giftscale.settings.forEach(function(gift){vueapp.cartType==gift.category&&gifts.push({title:gift.message,value:gift.over})}),{gifts:gifts.filter(function(item){return item&&item.title&&item.value>=0}).sort(function(a,b){return a.value>b.value?1:-1}),freeShippingFrom:freeShippingFromValue}}
//# sourceMappingURL=/cdn/shop/t/277/assets/vue-cart.js.map?v=103498411914961376581712148227
